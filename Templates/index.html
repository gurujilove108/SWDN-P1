<!DOCTYPE html>
<script>var t1 = performance.now()</script>
<html lang="en">
    <head>
        <title>SWDN P1</title>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:title" content="Senior Web Dev Nanodegree Project 1">
        <meta property="og:type" content="Content Data">
        <meta property="og:description" content="Login, Logout, Events, with DB">
        <meta property="og:image" content="/img/CloudPlatform_logo.png">
        <meta property="og:site_name" content="">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.0.0/bootstrap-social.min.css">
        <link rel="stylesheet" href="/css/index.css">
        <link rel="stylesheet" href="/css/sidenav.css">
        <link rel="shortcut icon" href="/img/favicon.ico">

        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-route.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.10.0/ui-bootstrap-tpls.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="/js/config.js"></script>
        <script src="/js/utils.js"></script>
        <script src="/js/app.js"></script>
        <script>
            function init() {
                var rootPath = '//' + window.location.host + '/_ah/api';

                gapi.client.load('user_endpoint', 'v1', function () {
                    gapi.client.setApiKey("AIzaSyDXCZc6vEZQf6i_2ofwOE1mLYqzTS6EAWk"
                )}, rootPath);

                gapi.client.load('oauth2', 'v2', function() {
                    
                });
            };
        </script>
        <script src="//apis.google.com/js/client:plusone.js?onload=init"></script>
    </head>

    <!-- /*
     * I learned that routeprovider is for fetching templates from the server, but apparently if 
     * Those templates use ng-repeat there can be problems. I was having a problem where my all_events.html
     * Template would load in all the events but only one time and If I switched views and then switched
     * back to the all_events.html the events wouldnt load so I'm
     * putting that functionality into my root controller.
     * 
        
    */ -->
    <body ng-controller="RootController as rc">
        <div id="wrapper" class="toggled">
            <div class="container-fluid">

                <!-- Sidebar --> 
                <div id="sidebar-wrapper">
                    <ul class="sidebar-nav" id="logo-nav"></ul>
                    <ul class="sidebar-nav text-left" autofocus>
                        <li class="nav-item"><i class="fa fa-database fa-2x db-icon"></i><a href="#" ng-click="getEvents()" ng-cloak>See All Events</a></li>
                        <li class="nav-item"><i class="fa fa-plus-circle fa-2x plus-icon"></i><a href="/#/create_event">Create New Event</a></li>
                    </ul>
                </div>
                <!-- /sidebar-wrapper -->

                <!-- Page Content -->
                <div id="page-content-wrapper" class="pcw-custom">

                    <!-- navbar at the top -->
                    <nav class="navbar navbar-fixed-top navbar-dark bg-inverse" style="background: #001233;" >
                        <ul class="nav navbar-nav header-nav">

                            <!-- The navbar button icon for toggling the sidenav -->
                            <li class="nav-item menu-toggle-parent">
                                <a id="menu-toggle" class="btn btn-default btn-primary menu-button" type="button" ng-click="toggleMenu()">
                                    <span class="fa fa-list fa-1x" aria-hidden="true"></span>
                                </a>
                            </li>

                            <!-- The nvbar header -->
                            <li id="nav-brand-custom" class="nav-item page-title-parent">
                                <a class="navbar-brand page-title" href="/">Mr. Event Manager</a>
                            </li>

                            <!-- A search icon and search-text that remains hidden until a user is signed in -->
                            <li class="nav-item search-icon-parent" ng-if="userSignedIn()" ng-cloak>
                                <span class="search-text">search</span>
                                <i id="search-icon" class="fa fa-search fa-2x search-icon" ng-click="toggleSearch()"></i>
                            </li>

                            <!-- the search box that opens when you click the icon above, that is only available when the user is signed in -->
                            <li class="search-form-container hidden fade-in fade-in-one">
                                <form id="search-form" class="search-form">
                                    <div class="form-group">
                                        <input type="text" class="form-control site-search" id="search" placeholder="Search Terms">
                                    </div>
                                </form>
                            </li>

                            <!-- Login and Signup buttons on navbar-->
                            <li id="login-btn" class="login-btn-container" ng-if="!userSignedIn()" ng-cloak>
                                <a href="/#/login">
                                    <i class="fa-1x login-text">login</i>
                                    <i class="fa fa-sign-in fa-2x"></i>
                                </a>
                                <a href="/#/signup">
                                    <i class="fa-1x signup-text">signup</i>
                                    <i class="fa fa-user-plus fa-2x"></i>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <!-- End nav -->
                
                    <div class="events-wrapper-container">
                        <div class="row" ng-repeat="event in events">
                            <div class="col-md-6">{{event.event_type}}, </div>
                        </div>
                    </div>

                    <!-- Where partial templates will be loaded into, Initially the intro page will be loaded in -->
                    <ng-view></ng-view>

                </div>
                <!-- /#page-content-wrapper -->

            </div>
            <!-- / .container-fluid -->

        </div>
        <!-- / #wrapper -->
        <script src="/js/controllers_init.js"></script>
        <script src="/js/root_controller.js"></script>
        <script src="/js/event_controller.js"></script>
        <script src="/js/login_controller.js"></script>
        <script src="/js/signup_controller.js"></script>
        <script src="/js/index.js"></script>
        <script>
            console.log("loaded the page in " + (Math.round(performance.now() - t1)) + " milliseconds");
        </script>
        
</html>
